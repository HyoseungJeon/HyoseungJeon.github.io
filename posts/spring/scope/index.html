<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Scope | HyoSeung IT blog</title><meta name=keywords content="Spring,Spring Boot"><meta name=description content="ğŸ’¡ MSA í™˜ê²½ì—ì„œ ê°œë°œì„ í•˜ë‹¤ ë³´ë‹ˆ.. ì—¬ëŸ¬ê°€ì§€ ì• ë¡œì‚¬í•­ì´ ìˆë‹¤.. ğŸ˜‚ ê·¸ ì¤‘ ìš”ì¦˜ ê°œë°œ ì¤‘ ê°€ì¥ ê·€ì°®ë‹¤ê³  ëŠë¼ëŠ” ì¼ì€.. DB insert ì‹œ ì‹ë³„ì ê°’ì„ ë„£ëŠ” ì¼ì´ë‹¤..! ì£¼ë¡œ ìƒì„±ì, ìˆ˜ì •ì IDë¥¼ ë„£ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì¸ë°.. í˜„ í”„ë¡œì íŠ¸ì—ì„  ë§¤ë²ˆ í•´ë‹¹ id ê°’ë“¤ì„ set, set, set í•œë‹¤.. (ë„ˆë¬´ ê·€ì°®ë‹¤..) í•˜ì—¬ Contextë¡œ ì†Œì§€í•˜ê³  ìˆëŠ” userId ê°’ì„ mybatisì˜ bindë¡œ ê°€ì ¸ì™€ set í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜ í–ˆë‹¤! í—Œë° ë¬¸ì œëŠ”.. MSA í™˜ê²½ì—ì„œ ë‹¤ë¥¸ ì„œë²„ë¡œ ê°’ì„ ì „ë‹¬ ì‹œ Contextë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤ëŠ” ì  ì´ì˜€ë‹¤."><meta name=author content="HyoSeung Jeon"><link rel=canonical href=https://HyoseungJeon.github.io/posts/spring/scope/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://HyoseungJeon.github.io/profile.png><link rel=icon type=image/png sizes=16x16 href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><script defer crossorigin=anonymous src=/js/pro.sidebar.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Scope"><meta property="og:description" content="ğŸ’¡ MSA í™˜ê²½ì—ì„œ ê°œë°œì„ í•˜ë‹¤ ë³´ë‹ˆ.. ì—¬ëŸ¬ê°€ì§€ ì• ë¡œì‚¬í•­ì´ ìˆë‹¤.. ğŸ˜‚ ê·¸ ì¤‘ ìš”ì¦˜ ê°œë°œ ì¤‘ ê°€ì¥ ê·€ì°®ë‹¤ê³  ëŠë¼ëŠ” ì¼ì€.. DB insert ì‹œ ì‹ë³„ì ê°’ì„ ë„£ëŠ” ì¼ì´ë‹¤..! ì£¼ë¡œ ìƒì„±ì, ìˆ˜ì •ì IDë¥¼ ë„£ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì¸ë°.. í˜„ í”„ë¡œì íŠ¸ì—ì„  ë§¤ë²ˆ í•´ë‹¹ id ê°’ë“¤ì„ set, set, set í•œë‹¤.. (ë„ˆë¬´ ê·€ì°®ë‹¤..) í•˜ì—¬ Contextë¡œ ì†Œì§€í•˜ê³  ìˆëŠ” userId ê°’ì„ mybatisì˜ bindë¡œ ê°€ì ¸ì™€ set í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜ í–ˆë‹¤! í—Œë° ë¬¸ì œëŠ”.. MSA í™˜ê²½ì—ì„œ ë‹¤ë¥¸ ì„œë²„ë¡œ ê°’ì„ ì „ë‹¬ ì‹œ Contextë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤ëŠ” ì  ì´ì˜€ë‹¤."><meta property="og:type" content="article"><meta property="og:url" content="https://HyoseungJeon.github.io/posts/spring/scope/"><meta property="og:image" content="https://HyoseungJeon.github.io/profile2.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-15T10:38:49+09:00"><meta property="article:modified_time" content="2024-02-15T10:38:49+09:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://HyoseungJeon.github.io/profile2.png"><meta name=twitter:title content="Scope"><meta name=twitter:description content="ğŸ’¡ MSA í™˜ê²½ì—ì„œ ê°œë°œì„ í•˜ë‹¤ ë³´ë‹ˆ.. ì—¬ëŸ¬ê°€ì§€ ì• ë¡œì‚¬í•­ì´ ìˆë‹¤.. ğŸ˜‚ ê·¸ ì¤‘ ìš”ì¦˜ ê°œë°œ ì¤‘ ê°€ì¥ ê·€ì°®ë‹¤ê³  ëŠë¼ëŠ” ì¼ì€.. DB insert ì‹œ ì‹ë³„ì ê°’ì„ ë„£ëŠ” ì¼ì´ë‹¤..! ì£¼ë¡œ ìƒì„±ì, ìˆ˜ì •ì IDë¥¼ ë„£ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì¸ë°.. í˜„ í”„ë¡œì íŠ¸ì—ì„  ë§¤ë²ˆ í•´ë‹¹ id ê°’ë“¤ì„ set, set, set í•œë‹¤.. (ë„ˆë¬´ ê·€ì°®ë‹¤..) í•˜ì—¬ Contextë¡œ ì†Œì§€í•˜ê³  ìˆëŠ” userId ê°’ì„ mybatisì˜ bindë¡œ ê°€ì ¸ì™€ set í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜ í–ˆë‹¤! í—Œë° ë¬¸ì œëŠ”.. MSA í™˜ê²½ì—ì„œ ë‹¤ë¥¸ ì„œë²„ë¡œ ê°’ì„ ì „ë‹¬ ì‹œ Contextë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤ëŠ” ì  ì´ì˜€ë‹¤."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://HyoseungJeon.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Spring","item":"https://HyoseungJeon.github.io/posts/spring/"},{"@type":"ListItem","position":3,"name":"Scope","item":"https://HyoseungJeon.github.io/posts/spring/scope/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Scope","name":"Scope","description":"ğŸ’¡ MSA í™˜ê²½ì—ì„œ ê°œë°œì„ í•˜ë‹¤ ë³´ë‹ˆ.. ì—¬ëŸ¬ê°€ì§€ ì• ë¡œì‚¬í•­ì´ ìˆë‹¤.. ğŸ˜‚ ê·¸ ì¤‘ ìš”ì¦˜ ê°œë°œ ì¤‘ ê°€ì¥ ê·€ì°®ë‹¤ê³  ëŠë¼ëŠ” ì¼ì€.. DB insert ì‹œ ì‹ë³„ì ê°’ì„ ë„£ëŠ” ì¼ì´ë‹¤..! ì£¼ë¡œ ìƒì„±ì, ìˆ˜ì •ì IDë¥¼ ë„£ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì¸ë°.. í˜„ í”„ë¡œì íŠ¸ì—ì„  ë§¤ë²ˆ í•´ë‹¹ id ê°’ë“¤ì„ set, set, set í•œë‹¤.. (ë„ˆë¬´ ê·€ì°®ë‹¤..) í•˜ì—¬ Contextë¡œ ì†Œì§€í•˜ê³  ìˆëŠ” userId ê°’ì„ mybatisì˜ bindë¡œ ê°€ì ¸ì™€ set í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜ í–ˆë‹¤! í—Œë° ë¬¸ì œëŠ”.. MSA í™˜ê²½ì—ì„œ ë‹¤ë¥¸ ì„œë²„ë¡œ ê°’ì„ ì „ë‹¬ ì‹œ Contextë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤ëŠ” ì  ì´ì˜€ë‹¤.","keywords":["Spring","Spring Boot"],"articleBody":" ğŸ’¡ MSA í™˜ê²½ì—ì„œ ê°œë°œì„ í•˜ë‹¤ ë³´ë‹ˆ.. ì—¬ëŸ¬ê°€ì§€ ì• ë¡œì‚¬í•­ì´ ìˆë‹¤.. ğŸ˜‚ ê·¸ ì¤‘ ìš”ì¦˜ ê°œë°œ ì¤‘ ê°€ì¥ ê·€ì°®ë‹¤ê³  ëŠë¼ëŠ” ì¼ì€.. DB insert ì‹œ ì‹ë³„ì ê°’ì„ ë„£ëŠ” ì¼ì´ë‹¤..! ì£¼ë¡œ ìƒì„±ì, ìˆ˜ì •ì IDë¥¼ ë„£ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì¸ë°.. í˜„ í”„ë¡œì íŠ¸ì—ì„  ë§¤ë²ˆ í•´ë‹¹ id ê°’ë“¤ì„ set, set, set í•œë‹¤.. (ë„ˆë¬´ ê·€ì°®ë‹¤..) í•˜ì—¬ Contextë¡œ ì†Œì§€í•˜ê³  ìˆëŠ” userId ê°’ì„ mybatisì˜ bindë¡œ ê°€ì ¸ì™€ set í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜ í–ˆë‹¤! í—Œë° ë¬¸ì œëŠ”.. MSA í™˜ê²½ì—ì„œ ë‹¤ë¥¸ ì„œë²„ë¡œ ê°’ì„ ì „ë‹¬ ì‹œ Contextë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤ëŠ” ì  ì´ì˜€ë‹¤..!! í•´ì„œ ê·¸ ì´ìœ ë¥¼ ì°¾ì•„ ë‚˜ì„œë‹¤ Scopeì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆë‹¤!! Scope ì •ì˜ When you create a bean definition, you create a recipe for creating actual instances of the class defined by that bean definition. The idea that a bean definition is a recipe is important, because it means that, as with a class, you can create many object instances from a single recipe. You can control not only the various dependencies and configuration values that are to be plugged into an object that is created from a particular bean definition but also control the scope of the objects created from a particular bean definition. This approach is powerful and flexible, because you can choose the scope of the objects you create through configuration instead of having to bake in the scope of an object at the Java class level. Beans can be defined to be deployed in one of a number of scopes. The Spring Framework supports six scopes, four of which are available only if you use a web-awareÂ ApplicationContext. You can also createÂ a custom scope. ì¶œì²˜ - https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html\në­ ë‚´ìš©ì´ ë§ì§€ë§Œ.. ì‚¬ì‹¤ ê·¸ëƒ¥ ë‹¨ìˆœí•˜ê²Œ Bean ê°ì²´ì˜ LiftTimeì„ ì„¤ì •í•˜ëŠ” ì˜µì…˜ ê°’ ì¤‘ í•˜ë‚˜ë‹¤!\nì¢…ë¥˜ Scope Description https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-singleton (Default) Scopes a single bean definition to a single object instance for each Spring IoC container. https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-prototype Scopes a single bean definition to any number of object instances. https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-request Scopes a single bean definition to the lifecycle of a single HTTP request. That is, each HTTP request has its own instance of a bean created off the back of a single bean definition. Only valid in the context of a web-aware SpringÂ ApplicationContext. https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-session Scopes a single bean definition to the lifecycle of an HTTPÂ Session. Only valid in the context of a web-aware SpringÂ ApplicationContext. https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-application Scopes a single bean definition to the lifecycle of aÂ ServletContext. Only valid in the context of a web-aware SpringÂ ApplicationContext. https://docs.spring.io/spring-framework/reference/web/websocket/stomp/scope.html Scopes a single bean definition to the lifecycle of aÂ WebSocket. Only valid in the context of a web-aware SpringÂ ApplicationContext. ì˜µì…˜ ProxyMode : bean ê°ì²´ê°€ Scope ë²”ìœ„ ë‚´ì—ì„œ í•˜ë‚˜ì˜ ë‹¨ìœ„ ê°ì²´ë¡œ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ proxy patternì„ ì ìš©í•˜ëŠ” option ì´ë‹¤. value ê°’ìœ¼ë¡œ ëŒ€ìƒ Class typeì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. DEFAULT,NO,INTERFACES,TARGET_CLASS ì‚¬ìš© ì˜ˆ ì†ŒìŠ¤ @Component @Scope(value = WebApplicationContext.SCOPE_SESSION, proxyMode = ScopedProxyMode.TARGET_CLASS) public class OfficeContext implement UserContext{ private Locale locale; private String dbTimeZone; private TimeZone javaTimeZone; /** ì„œë²„ì½”ë“œ */ private String serverCd; private UserInfo userInfo = null; ~~~~~ @Override public \u003cT extends UserInfo\u003e T getUserInfo() { return (T)userInfo ; } ~~~~~ } ì„¤ëª… ì‚¬ìš©ìì˜ Contextë¥¼ session Scopeë¡œ ì§€ì •í•´ ê´€ë¦¬í•˜ì—¬, Login ì‹œì ì— Contextì— ì •ë³´ë¥¼ set í›„, proxyModeë¥¼ í†µí•˜ì—¬ ê° Componentì—ì„œ ì£¼ì… ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ êµ¬í˜„ë˜ì–´ìˆë‹¤!\nì• ë¡œì‚¬í•­ ë¬¸ì œëŠ” MSA í™˜ê²½ì—ì„œ ë‚˜ì˜¨ë‹¤..ğŸ˜‚ í•´ë‹¹ serverì—ì„œ ì‚¬ìš©ìì˜ Contextë¥¼ ì„¸ì…˜ ë‹¨ìœ„ë¡œ ì†Œì§€í•˜ê³  ìˆì§€ë§Œ, Server ë‚´ì— ì¢…ì†ëœ ì •ë³´ë¡œ ë‹¤ë¥¸ Serverì—ì„œ ì‚¬ìš©í•˜ê¸°ëŠ” ë‹¹ì—°íˆ!! ì–´ë µë‹¤. ë¬¼ë¡  MSA ê°„ í†µì‹ ì„ ìœ„í•œ ëª¨ë“ˆì— í•´ë‹¹ Context ì •ë³´ ì†Œì§€ ì‹œ, ê³µí†µì ìœ¼ë¡œ ê°™ì´ ë‹´ì•„ ë³´ë‚´ëŠ” ì†ŒìŠ¤ê°€ ìˆë‹¤ë©´ ì¢‹ê² ì§€ë§Œ.. í˜„ì¬ëŠ” í•´ë‹¹í•˜ëŠ” ë‚´ìš©ì´ ì—†ì–´ ë”°ë¡œ request Dataì— ë§¤ë²ˆ ë‹´ì•„ì„œ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ìˆë‹¤!!\nê°œì„  ë°©í–¥ ì‚¬ì‹¤ ë‚´ ìƒê°ì€ ê°„ë‹¨í•˜ë‹¤. í†µì‹  ëª¨ë“ˆ ë‹¨ ì—ì„œ í˜„ì¬ Contextì— Infoê°’ì´ ì¡´ì¬ ì‹œ ë°ì´í„°ë¥¼ headerì— ë„£ì–´ ì†¡ì‹ í•´ì£¼ëŠ” ê²ƒì´ë‹¤! ìˆ˜ì‹  ì„œë²„ì—ì„œëŠ” request ë²”ìœ„ì˜ Contextë¥¼ ìƒˆë¡œ ìƒì„±í•˜ì—¬ intercepter ì—ì„œ token ê°’ì„ ì½ì–´ í•´ë‹¹ Contextë¥¼ ê·¸ëŒ€ë¡œ ì£¼ì…í•˜ë„ë¡ í•˜ë„ë¡ ë§Œë“œëŠ” ê²ƒì´ ë‚´ ìƒê°ì´ë‹¤!\nì‚¬ì‹¤ í˜„ì¬ëŠ” userId ë§Œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ëŒ€ë‹¤ìˆ˜ë¼ ì‘ì—…ê³¼ ì—°ì‚°ëŸ‰ì— ë¹„í•˜ì—¬ ë°°ê¼½ì´ ë„ˆë¬´ í° ê²ƒ ê°™ê¸°ë„ í•˜ë‹¤.. í•˜ì§€ë§Œ í˜„ì¬ í”„ë¡œì íŠ¸ì˜ Context ì •ë³´ì—ëŠ” ìƒê°ë³´ë‹¤ ìœ ìš©í•œ ì •ë³´ê°€ ë§ë‹¤!! ì´ë¥¼ í™œìš©í•˜ì—¬ ì‘ì—…ì„ í•œë‹¤ë©´ ë” íš¨ìœ¨ì ì´ì§€ ì•Šì„ê¹Œ..?\në‚´ ìƒê° ì‚¬ì‹¤ ë¶ˆí•„ìš”í•œ ì†ŒìŠ¤ë¥¼ ì¤„ì¸ë‹¤ ë³´ë‹¤ëŠ”, ì•½ì†ëœ ê°’ì„ ì‚¬ìš©í•œë‹¤ì˜ ê°œë…ì—ì„œ í•´ë‹¹ ê¸°ëŠ¥ì´ í•„ìš”í•˜ë‹¤ê³  ë³¸ë‹¤! ë§Œì•½ í•´ë‹¹ Context ì •ë³´ë¥¼ í™œìš©í•˜ëŠ” ê²½ìš°ë¼ë©´, ìš°ë¦¬ëŠ” ì•½ì†í•œ interfaceë¥¼ í†µí•´ ì›í•˜ëŠ” ê°’ì„ ê°€ì ¸ì˜¤ê²Œ í•  ìˆ˜ ìˆë‹¤! í—ˆë©´ ë¶ˆí•„ìš”í•œ error Caseì™€ ì‘ì—…ìì˜ ì‹¤ìˆ˜ ë“± ì—¬ëŸ¬ê°€ì§€ ë°©í–¥ì—ì„œë„ ìš´ì˜ ê´€ë¦¬ì˜ ìš©ì´ì„±ì„ í¬ê²Œ ì¦ëŒ€ì‹œì¼œ ì¤€ë‹¤ê³  ìƒê°í•œë‹¤! í˜„ì¬ ì†ŒìŠ¤ì˜ ì—¬ëŸ¬ ê³³ì— Common Dataë¥¼ set, set, set í•˜ëŠ” ì½”ë“œê°€ ë„ˆë¬´ ë§ë‹¤.. íŠ¹íˆë‚˜ bulk ë‹¨ìœ„ì˜ ë°ì´í„° ì „ì†¡ ë•Œì—ëŠ” ë˜‘ê°™ì€ ë°ì´í„°ë¥¼ 1,000 ê³³ì— ë„£ê³  ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë³´ë‚´ê³  ë°›ëŠ”ë‹¤.. ğŸ˜‚ğŸ˜‚ ìš”ì¦˜ ì„±ëŠ¥ì´ ë‹¤ ì¢‹ìœ¼ë‹ˆ ë¬¸ì œê°€ ì—†ë‹¤ë©´ ë‹¤í–‰ì´ì§€ë§Œ, ê°œë°œì ì¸ ì¸¡ë©´ì—ì„œ ìµœëŒ€í•œ ì„œë¡œì˜ ì•½ì†ì„ ë§Œë“¤ê³  í™œìš©í•˜ëŠ”ê²Œ ì¢‹ì§€ ì•Šì„ê¹Œ..? ğŸ™„\nì¶œì²˜ Bean Scopes :: Spring Framework 7. [ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬ - ê¸°ë³¸í¸] ë¹ˆ ìŠ¤ì½”í”„(Bean Scope) [Spring] ë¹ˆ ìŠ¤ì½”í”„(Bean Scope)ë€? Dependency Lookup(DL)ì´ë€?\n","wordCount":"752","inLanguage":"en","datePublished":"2024-02-15T10:38:49+09:00","dateModified":"2024-02-15T10:38:49+09:00","author":{"@type":"Person","name":"HyoSeung Jeon"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://HyoseungJeon.github.io/posts/spring/scope/"},"publisher":{"@type":"Organization","name":"HyoSeung IT blog","logo":{"@type":"ImageObject","url":"https://HyoseungJeon.github.io/profile.png"}}}</script><link rel=stylesheet href=https://HyoseungJeon.github.io/scss/main.css></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://HyoseungJeon.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://HyoseungJeon.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://HyoseungJeon.github.io/posts/ title=posts class=btn-12><span style=font-family:SUITE-Regular;font-size:19px>posts</span></a></li><li><a href=https://HyoseungJeon.github.io/tags/ title=tags class=btn-12><span style=font-family:SUITE-Regular;font-size:19px>tags</span></a></li><li><a href=https://HyoseungJeon.github.io/archives/ title=archives class=btn-12><span style=font-family:SUITE-Regular;font-size:19px>archives</span></a></li><li><a href=https://HyoseungJeon.github.io/search/ title="search (Alt + /)" class=btn-12 accesskey=/><span style=font-family:SUITE-Regular;font-size:19px>search</span></a></li></ul></nav></header><main class="main page"><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://HyoseungJeon.github.io/>Home</a>&nbsp;Â»&nbsp;<a href=https://HyoseungJeon.github.io/posts/>Posts</a>&nbsp;Â»&nbsp;<a href=https://HyoseungJeon.github.io/posts/spring/>Spring</a></div><h1 class=post-title>Scope</h1><div class=post-meta><span title='2024-02-15 10:38:49 +0900 +0900'>February 15, 2024</span>&nbsp;Â·&nbsp;752 words&nbsp;Â·&nbsp;HyoSeung Jeon</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner style=padding-top:10px><ul><li><a href=#scope aria-label=Scope>Scope</a><ul><li><a href=#%ec%a0%95%ec%9d%98 aria-label=ì •ì˜>ì •ì˜</a></li><li><a href=#%ec%a2%85%eb%a5%98 aria-label=ì¢…ë¥˜>ì¢…ë¥˜</a></li><li><a href=#%ec%98%b5%ec%85%98 aria-label=ì˜µì…˜>ì˜µì…˜</a></li></ul></li><li><a href=#%ec%82%ac%ec%9a%a9-%ec%98%88 aria-label="ì‚¬ìš© ì˜ˆ">ì‚¬ìš© ì˜ˆ</a><ul><li><a href=#%ec%86%8c%ec%8a%a4 aria-label=ì†ŒìŠ¤>ì†ŒìŠ¤</a></li><li><a href=#%ec%84%a4%eb%aa%85 aria-label=ì„¤ëª…>ì„¤ëª…</a></li><li><a href=#%ec%95%a0%eb%a1%9c%ec%82%ac%ed%95%ad aria-label=ì• ë¡œì‚¬í•­>ì• ë¡œì‚¬í•­</a></li><li><a href=#%ea%b0%9c%ec%84%a0-%eb%b0%a9%ed%96%a5 aria-label="ê°œì„  ë°©í–¥">ê°œì„  ë°©í–¥</a></li></ul></li><li><a href=#%eb%82%b4-%ec%83%9d%ea%b0%81 aria-label="ë‚´ ìƒê°">ë‚´ ìƒê°</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?(document.getElementById("toc-container").classList.add("wide"),document.getElementById("menu-container").style.display=""):(document.getElementById("toc-container").classList.remove("wide"),document.getElementById("menu-container").style.display="none")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css><link rel=stylesheet href=https://unpkg.com/css-pro-layout@1.1.0/dist/css/css-pro-layout.css><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"><script src=https://unpkg.com/@popperjs/core@2></script><div id=menu-container class="layout toc-container wide-r"><aside id=sidebar class="sidebar break-point-sm has-bg-image" style=width:100%;position:sticky;top:var(--gap)><div class=sidebar-layout><div class=sidebar-content><nav class="menu open-current-submenu"><ul><li class="menu-item sub-menu" name=API data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>API
<span class=menu-title-suffix>(4)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=FCM data-level=1><a href=/posts/api/fcm/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>FCM</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Nice ë³¸ì¸ì¸ì¦" data-level=1><a href=/posts/api/nice%EB%B3%B8%EC%9D%B8%EC%9D%B8%EC%A6%9D/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Nice ë³¸ì¸ì¸ì¦</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Niceë³¸ì¸ì¸ì¦ ì´ìŠˆëŒ€ì‘" data-level=1><a href=/posts/api/nice%EB%B3%B8%EC%9D%B8%EC%9D%B8%EC%A6%9D%EC%9D%B4%EC%8A%88%EB%8C%80%EC%9D%91/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Niceë³¸ì¸ì¸ì¦ ì´ìŠˆëŒ€ì‘</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Niceë³¸ì¸ì¸ì¦ì´ìŠˆëŒ€ì‘2 data-level=1><a href=/posts/api/nice%EB%B3%B8%EC%9D%B8%EC%9D%B8%EC%A6%9D%EC%9D%B4%EC%8A%88%EB%8C%80%EC%9D%912/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Niceë³¸ì¸ì¸ì¦ì´ìŠˆëŒ€ì‘2</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=Chrome data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Chrome
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=Debug data-level=1><a href=/posts/chrome/debug/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Debug</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name="Design Pattern" data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Design Pattern
<span class=menu-title-suffix>(3)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item sub-menu" name="Behavioral Patterns" data-level=1><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Behavioral Patterns
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Strategy Pattern" data-level=2><a href=/posts/designpattern/behavioralpatterns/strategypattern/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Strategy Pattern</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item page-menu" name="Creational Patterns" data-level=1><a href=/posts/designpattern/creationalpatterns/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Creational Patterns</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Structural Patterns" data-level=1><a href=/posts/designpattern/structuralpatterns/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Structural Patterns</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=ETC data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>ETC
<span class=menu-title-suffix>(5)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=CDN data-level=1><a href=/posts/etc/cdn/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>CDN</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=LDAP data-level=1><a href=/posts/etc/ldap/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>LDAP</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="MSA Id Auditing" data-level=1><a href=/posts/etc/msaidauditing/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>MSA Id Auditing</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="MSA í™˜ê²½ TraceId Logging" data-level=1><a href=/posts/etc/msa-%ED%99%98%EA%B2%BD-traceid-logging/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>MSA í™˜ê²½ TraceId Logging</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=OAuth data-level=1><a href=/posts/etc/oauth/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>OAuth</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=HTML data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>HTML
<span class=menu-title-suffix>(2)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Page Reload Issue" data-level=1><a href=/posts/html/pagereloadissue/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Page Reload Issue</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Page Reload Issue 2" data-level=1><a href=/posts/html/pagereloadissue2/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Page Reload Issue 2</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=Intellij data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Intellij
<span class=menu-title-suffix>(3)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=Command data-level=1><a href=/posts/intellij/command/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Command</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Properties Auto Upper" data-level=1><a href=/posts/intellij/propertiesautoupper/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Properties Auto Upper</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Thymeleaf data-level=1><a href=/posts/intellij/thymeleaf/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Thymeleaf</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=Java data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Java
<span class=menu-title-suffix>(10)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Blocking Queue" data-level=1><a href=/posts/java/blockingqueue/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Blocking Queue</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Cursor data-level=1><a href=/posts/java/cursor/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Cursor</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=File data-level=1><a href=/posts/java/file/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>File</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Function Package" data-level=1><a href=/posts/java/function-package/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Function Package</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Future data-level=1><a href=/posts/java/future/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Future</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Generic data-level=1><a href=/posts/java/generic/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Generic</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Jasypt data-level=1><a href=/posts/java/jasypt/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Jasypt</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Reflection data-level=1><a href=/posts/java/reflection/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Reflection</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Synchronized data-level=1><a href=/posts/java/synchronized/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Synchronized</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Thread Local" data-level=1><a href=/posts/java/threadlocal/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Thread Local</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name="Java Script" data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Java Script
<span class=menu-title-suffix>(2)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Custom Validate" data-level=1><a href=/posts/javascript/customvalidate/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Custom Validate</span>
<span class=menu-suffix></span></a></li><li class="menu-item sub-menu" name=Date data-level=1><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Date
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=setDate data-level=2><a href=/posts/javascript/date/setdate/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>setDate</span>
<span class=menu-suffix></span></a></li></ul></div></li></ul></div></li><li class="menu-item sub-menu" name=JQuery data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>JQuery
<span class=menu-title-suffix>(2)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="JQuery Validate" data-level=1><a href=/posts/jquery/validate/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>JQuery Validate</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=ZTree data-level=1><a href=/posts/jquery/ztree/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>ZTree</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=Spring data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Spring
<span class=menu-title-suffix>(6)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=Async data-level=1><a href=/posts/spring/async/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Async</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Cache data-level=1><a href=/posts/spring/cache/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Cache</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Custom Validate Annotation" data-level=1><a href=/posts/spring/customvalidateannotation/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Custom Validate Annotation</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=RequestContextHolder data-level=1><a href=/posts/spring/requestcontextholder/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>RequestContextHolder</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Scope data-level=1><a href=/posts/spring/scope/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Scope</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Spring Security" data-level=1><a href=/posts/spring/springsecurity/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Spring Security</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=SQL data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>SQL
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="With Recursive" data-level=1><a href=/posts/sql/withrecursive/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>With Recursive</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=Window data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Window
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Nud ë©”ëª¨ë¦¬ëˆ„ìˆ˜" data-level=1><a href=/posts/window/nud%EB%A9%94%EB%AA%A8%EB%A6%AC%EB%88%84%EC%88%98/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Nud ë©”ëª¨ë¦¬ëˆ„ìˆ˜</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=ë…í›„ê° data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>ë…í›„ê°
<span class=menu-title-suffix>(2)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Clean Architecture" data-level=1><a href=/posts/%EB%8F%85%ED%9B%84%EA%B0%90/cleanarchitecture/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Clean Architecture</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="ì™ì™ ë“¤ì–´ì˜¤ëŠ” í•¨ìˆ˜í˜• ì½”ë”©" data-level=1><a href=/posts/%EB%8F%85%ED%9B%84%EA%B0%90/%ED%95%A8%EC%88%98%ED%98%95%EC%BD%94%EB%94%A9/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>ì™ì™ ë“¤ì–´ì˜¤ëŠ” í•¨ìˆ˜í˜• ì½”ë”©</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=ì¼ê¸°ì¥ data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>ì¼ê¸°ì¥
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=23.07.18 data-level=1><a href=/posts/%EC%9D%BC%EA%B8%B0%EC%9E%A5/23-07-18/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>23.07.18</span>
<span class=menu-suffix></span></a></li></ul></div></li><ul></nav></div></div><div class=sidebar-footer></div></aside></div><style scoped></style><link rel=stylesheet href=https://HyoseungJeon.github.io/scss/pro-sidebar.css><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition()},!1),window.addEventListener("resize",function(){checkTocPosition()},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("menu-container").style.display="":document.getElementById("menu-container").style.display="none"}</script><div class=post-content><hr><style>#callout{background:#f1f1ef;padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;color:var(--hljs-bg)}#callout-inner{margin-left:1em;white-space:pre-line}@media(max-width:767px){#callout{padding:1.5em .75em 1.5em .6em}#callout-inner{margin-left:.5em}}</style><div id=callout><div>ğŸ’¡</div><div id=callout-inner>MSA í™˜ê²½ì—ì„œ ê°œë°œì„ í•˜ë‹¤ ë³´ë‹ˆ.. ì—¬ëŸ¬ê°€ì§€ ì• ë¡œì‚¬í•­ì´ ìˆë‹¤.. ğŸ˜‚ ê·¸ ì¤‘ ìš”ì¦˜ ê°œë°œ ì¤‘ ê°€ì¥ ê·€ì°®ë‹¤ê³  ëŠë¼ëŠ” ì¼ì€.. DB insert ì‹œ ì‹ë³„ì ê°’ì„ ë„£ëŠ” ì¼ì´ë‹¤..!
ì£¼ë¡œ ìƒì„±ì, ìˆ˜ì •ì IDë¥¼ ë„£ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì¸ë°.. í˜„ í”„ë¡œì íŠ¸ì—ì„  ë§¤ë²ˆ í•´ë‹¹ id ê°’ë“¤ì„ set, set, set í•œë‹¤.. (ë„ˆë¬´ ê·€ì°®ë‹¤..)
í•˜ì—¬ Contextë¡œ ì†Œì§€í•˜ê³  ìˆëŠ” userId ê°’ì„ mybatisì˜ bindë¡œ ê°€ì ¸ì™€ set í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜ í–ˆë‹¤! í—Œë° ë¬¸ì œëŠ”.. MSA í™˜ê²½ì—ì„œ ë‹¤ë¥¸ ì„œë²„ë¡œ ê°’ì„ ì „ë‹¬ ì‹œ Contextë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤ëŠ” ì  ì´ì˜€ë‹¤..!! í•´ì„œ ê·¸ ì´ìœ ë¥¼ ì°¾ì•„ ë‚˜ì„œë‹¤ Scopeì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆë‹¤!!</div></div><h2 id=scope>Scope<a hidden class=anchor aria-hidden=true href=#scope>#</a></h2><h3 id=ì •ì˜>ì •ì˜<a hidden class=anchor aria-hidden=true href=#ì •ì˜>#</a></h3><blockquote><p>When you create a bean definition, you create a recipe for creating actual instances of the class defined by that bean definition. The idea that a bean definition is a recipe is important, because it means that, as with a class, you can create many object instances from a single recipe.
You can control not only the various dependencies and configuration values that are to be plugged into an object that is created from a particular bean definition but also control the scope of the objects created from a particular bean definition. This approach is powerful and flexible, because you can choose the scope of the objects you create through configuration instead of having to bake in the scope of an object at the Java class level. Beans can be defined to be deployed in one of a number of scopes. The Spring Framework supports six scopes, four of which are available only if you use a web-awareÂ <code>ApplicationContext</code>. You can also createÂ <a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-custom>a custom scope.</a>
ì¶œì²˜ - <a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html</a></p></blockquote><p>ë­ ë‚´ìš©ì´ ë§ì§€ë§Œ.. ì‚¬ì‹¤ ê·¸ëƒ¥ ë‹¨ìˆœí•˜ê²Œ Bean ê°ì²´ì˜ LiftTimeì„ ì„¤ì •í•˜ëŠ” ì˜µì…˜ ê°’ ì¤‘ í•˜ë‚˜ë‹¤!</p><h3 id=ì¢…ë¥˜>ì¢…ë¥˜<a hidden class=anchor aria-hidden=true href=#ì¢…ë¥˜>#</a></h3><table><thead><tr><th>Scope</th><th>Description</th></tr></thead><tbody><tr><td><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-singleton>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-singleton</a></td><td>(Default) Scopes a single bean definition to a single object instance for each Spring IoC container.</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-prototype>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-prototype</a></td><td>Scopes a single bean definition to any number of object instances.</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-request>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-request</a></td><td>Scopes a single bean definition to the lifecycle of a single HTTP request. That is, each HTTP request has its own instance of a bean created off the back of a single bean definition. Only valid in the context of a web-aware SpringÂ ApplicationContext.</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-session>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-session</a></td><td>Scopes a single bean definition to the lifecycle of an HTTPÂ Session. Only valid in the context of a web-aware SpringÂ ApplicationContext.</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-application>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-application</a></td><td>Scopes a single bean definition to the lifecycle of aÂ ServletContext. Only valid in the context of a web-aware SpringÂ ApplicationContext.</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/reference/web/websocket/stomp/scope.html>https://docs.spring.io/spring-framework/reference/web/websocket/stomp/scope.html</a></td><td>Scopes a single bean definition to the lifecycle of aÂ WebSocket. Only valid in the context of a web-aware SpringÂ ApplicationContext.</td></tr></tbody></table><h3 id=ì˜µì…˜>ì˜µì…˜<a hidden class=anchor aria-hidden=true href=#ì˜µì…˜>#</a></h3><ul><li>ProxyMode : bean ê°ì²´ê°€ Scope ë²”ìœ„ ë‚´ì—ì„œ í•˜ë‚˜ì˜ ë‹¨ìœ„ ê°ì²´ë¡œ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ proxy patternì„ ì ìš©í•˜ëŠ” option ì´ë‹¤. value ê°’ìœ¼ë¡œ ëŒ€ìƒ Class typeì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.<ul><li><code>DEFAULT,NO,INTERFACES,TARGET_CLASS</code></li></ul></li></ul><h2 id=ì‚¬ìš©-ì˜ˆ>ì‚¬ìš© ì˜ˆ<a hidden class=anchor aria-hidden=true href=#ì‚¬ìš©-ì˜ˆ>#</a></h2><h3 id=ì†ŒìŠ¤>ì†ŒìŠ¤<a hidden class=anchor aria-hidden=true href=#ì†ŒìŠ¤>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Component</span>
</span></span><span class=line><span class=cl><span class=nd>@Scope</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=n>WebApplicationContext</span><span class=o>.</span><span class=na>SCOPE_SESSION</span><span class=o>,</span> <span class=n>proxyMode</span> <span class=o>=</span> <span class=n>ScopedProxyMode</span><span class=o>.</span><span class=na>TARGET_CLASS</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>OfficeContext</span> <span class=n>implement</span> <span class=n>UserContext</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>Locale</span> <span class=n>locale</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>String</span> <span class=n>dbTimeZone</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>TimeZone</span> <span class=n>javaTimeZone</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=cm>/** ì„œë²„ì½”ë“œ */</span>
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>String</span> <span class=n>serverCd</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>UserInfo</span> <span class=n>userInfo</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=o>~~~~~</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nd>@Override</span>
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=o>&lt;</span><span class=n>T</span> <span class=kd>extends</span> <span class=n>UserInfo</span><span class=o>&gt;</span> <span class=n>T</span> <span class=nf>getUserInfo</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=o>(</span><span class=n>T</span><span class=o>)</span><span class=n>userInfo</span> <span class=o>;</span>
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=o>~~~~~</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h3 id=ì„¤ëª…>ì„¤ëª…<a hidden class=anchor aria-hidden=true href=#ì„¤ëª…>#</a></h3><p>ì‚¬ìš©ìì˜ Contextë¥¼ session Scopeë¡œ ì§€ì •í•´ ê´€ë¦¬í•˜ì—¬, Login ì‹œì ì— Contextì— ì •ë³´ë¥¼ set í›„, proxyModeë¥¼ í†µí•˜ì—¬ ê° Componentì—ì„œ ì£¼ì… ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ êµ¬í˜„ë˜ì–´ìˆë‹¤!</p><h3 id=ì• ë¡œì‚¬í•­>ì• ë¡œì‚¬í•­<a hidden class=anchor aria-hidden=true href=#ì• ë¡œì‚¬í•­>#</a></h3><p>ë¬¸ì œëŠ” MSA í™˜ê²½ì—ì„œ ë‚˜ì˜¨ë‹¤..ğŸ˜‚ í•´ë‹¹ serverì—ì„œ ì‚¬ìš©ìì˜ Contextë¥¼ ì„¸ì…˜ ë‹¨ìœ„ë¡œ ì†Œì§€í•˜ê³  ìˆì§€ë§Œ, Server ë‚´ì— ì¢…ì†ëœ ì •ë³´ë¡œ ë‹¤ë¥¸ Serverì—ì„œ ì‚¬ìš©í•˜ê¸°ëŠ” ë‹¹ì—°íˆ!! ì–´ë µë‹¤. ë¬¼ë¡  MSA ê°„ í†µì‹ ì„ ìœ„í•œ ëª¨ë“ˆì— í•´ë‹¹ Context ì •ë³´ ì†Œì§€ ì‹œ, ê³µí†µì ìœ¼ë¡œ ê°™ì´ ë‹´ì•„ ë³´ë‚´ëŠ” ì†ŒìŠ¤ê°€ ìˆë‹¤ë©´ ì¢‹ê² ì§€ë§Œ.. í˜„ì¬ëŠ” í•´ë‹¹í•˜ëŠ” ë‚´ìš©ì´ ì—†ì–´ ë”°ë¡œ request Dataì— ë§¤ë²ˆ ë‹´ì•„ì„œ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ìˆë‹¤!!</p><h3 id=ê°œì„ -ë°©í–¥>ê°œì„  ë°©í–¥<a hidden class=anchor aria-hidden=true href=#ê°œì„ -ë°©í–¥>#</a></h3><p>ì‚¬ì‹¤ ë‚´ ìƒê°ì€ ê°„ë‹¨í•˜ë‹¤. í†µì‹  ëª¨ë“ˆ ë‹¨ ì—ì„œ í˜„ì¬ Contextì— Infoê°’ì´ ì¡´ì¬ ì‹œ ë°ì´í„°ë¥¼ headerì— ë„£ì–´ ì†¡ì‹ í•´ì£¼ëŠ” ê²ƒì´ë‹¤! ìˆ˜ì‹  ì„œë²„ì—ì„œëŠ” request ë²”ìœ„ì˜ Contextë¥¼ ìƒˆë¡œ ìƒì„±í•˜ì—¬ intercepter ì—ì„œ token ê°’ì„ ì½ì–´ í•´ë‹¹ Contextë¥¼ ê·¸ëŒ€ë¡œ ì£¼ì…í•˜ë„ë¡ í•˜ë„ë¡ ë§Œë“œëŠ” ê²ƒì´ ë‚´ ìƒê°ì´ë‹¤!</p><p>ì‚¬ì‹¤ í˜„ì¬ëŠ” userId ë§Œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ëŒ€ë‹¤ìˆ˜ë¼ ì‘ì—…ê³¼ ì—°ì‚°ëŸ‰ì— ë¹„í•˜ì—¬ ë°°ê¼½ì´ ë„ˆë¬´ í° ê²ƒ ê°™ê¸°ë„ í•˜ë‹¤.. í•˜ì§€ë§Œ í˜„ì¬ í”„ë¡œì íŠ¸ì˜ Context ì •ë³´ì—ëŠ” ìƒê°ë³´ë‹¤ ìœ ìš©í•œ ì •ë³´ê°€ ë§ë‹¤!! ì´ë¥¼ í™œìš©í•˜ì—¬ ì‘ì—…ì„ í•œë‹¤ë©´ ë” íš¨ìœ¨ì ì´ì§€ ì•Šì„ê¹Œ..?</p><h2 id=ë‚´-ìƒê°>ë‚´ ìƒê°<a hidden class=anchor aria-hidden=true href=#ë‚´-ìƒê°>#</a></h2><p>ì‚¬ì‹¤ ë¶ˆí•„ìš”í•œ ì†ŒìŠ¤ë¥¼ ì¤„ì¸ë‹¤ ë³´ë‹¤ëŠ”, ì•½ì†ëœ ê°’ì„ ì‚¬ìš©í•œë‹¤ì˜ ê°œë…ì—ì„œ í•´ë‹¹ ê¸°ëŠ¥ì´ í•„ìš”í•˜ë‹¤ê³  ë³¸ë‹¤! ë§Œì•½ í•´ë‹¹ Context ì •ë³´ë¥¼ í™œìš©í•˜ëŠ” ê²½ìš°ë¼ë©´, ìš°ë¦¬ëŠ” ì•½ì†í•œ interfaceë¥¼ í†µí•´ ì›í•˜ëŠ” ê°’ì„ ê°€ì ¸ì˜¤ê²Œ í•  ìˆ˜ ìˆë‹¤! í—ˆë©´ ë¶ˆí•„ìš”í•œ error Caseì™€ ì‘ì—…ìì˜ ì‹¤ìˆ˜ ë“± ì—¬ëŸ¬ê°€ì§€ ë°©í–¥ì—ì„œë„ ìš´ì˜ ê´€ë¦¬ì˜ ìš©ì´ì„±ì„ í¬ê²Œ ì¦ëŒ€ì‹œì¼œ ì¤€ë‹¤ê³  ìƒê°í•œë‹¤! í˜„ì¬ ì†ŒìŠ¤ì˜ ì—¬ëŸ¬ ê³³ì— Common Dataë¥¼ set, set, set í•˜ëŠ” ì½”ë“œê°€ ë„ˆë¬´ ë§ë‹¤.. íŠ¹íˆë‚˜ bulk ë‹¨ìœ„ì˜ ë°ì´í„° ì „ì†¡ ë•Œì—ëŠ” ë˜‘ê°™ì€ ë°ì´í„°ë¥¼ 1,000 ê³³ì— ë„£ê³  ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë³´ë‚´ê³  ë°›ëŠ”ë‹¤.. ğŸ˜‚ğŸ˜‚ ìš”ì¦˜ ì„±ëŠ¥ì´ ë‹¤ ì¢‹ìœ¼ë‹ˆ ë¬¸ì œê°€ ì—†ë‹¤ë©´ ë‹¤í–‰ì´ì§€ë§Œ, ê°œë°œì ì¸ ì¸¡ë©´ì—ì„œ ìµœëŒ€í•œ ì„œë¡œì˜ ì•½ì†ì„ ë§Œë“¤ê³  í™œìš©í•˜ëŠ”ê²Œ ì¢‹ì§€ ì•Šì„ê¹Œ..? ğŸ™„</p><p>ì¶œì²˜
<a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html>Bean Scopes :: Spring Framework</a>
<a href=https://mslim8803.tistory.com/70>7. [ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬ - ê¸°ë³¸í¸] ë¹ˆ ìŠ¤ì½”í”„(Bean Scope)</a>
<a href=https://code-lab1.tistory.com/186>[Spring] ë¹ˆ ìŠ¤ì½”í”„(Bean Scope)ë€? Dependency Lookup(DL)ì´ë€?</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://HyoseungJeon.github.io/tags/spring/>Spring</a></li><li><a href=https://HyoseungJeon.github.io/tags/spring-boot/>Spring Boot</a></li></ul><nav class=paginav><a class=prev href=https://HyoseungJeon.github.io/posts/spring/cache/><span class=title>Â« Prev</span><br><span>Cache</span></a>
<a class=next href=https://HyoseungJeon.github.io/posts/%EB%8F%85%ED%9B%84%EA%B0%90/%ED%95%A8%EC%88%98%ED%98%95%EC%BD%94%EB%94%A9/><span class=title>Next Â»</span><br><span>ì™ì™ ë“¤ì–´ì˜¤ëŠ” í•¨ìˆ˜í˜• ì½”ë”©</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://HyoseungJeon.github.io/>HyoSeung IT blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>