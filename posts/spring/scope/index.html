<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Scope | HyoSeung IT blog</title><meta name=keywords content="Spring,Spring Boot"><meta name=description content="💡 MSA 환경에서 개발을 하다 보니.. 여러가지 애로사항이 있다.. 😂 그 중 요즘 개발 중 가장 귀찮다고 느끼는 일은.. DB insert 시 식별자 값을 넣는 일이다..! 주로 생성자, 수정자 ID를 넣는 경우가 대부분인데.. 현 프로젝트에선 매번 해당 id 값들을 set, set, set 한다.. (너무 귀찮다..) 하여 Context로 소지하고 있는 userId 값을 mybatis의 bind로 가져와 set 하는 방식으로 전환 했다! 헌데 문제는.. MSA 환경에서 다른 서버로 값을 전달 시 Context를 그대로 사용하기 어렵다는 점 이였다."><meta name=author content="HyoSeung Jeon"><link rel=canonical href=https://HyoseungJeon.github.io/posts/spring/scope/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://HyoseungJeon.github.io/profile.png><link rel=icon type=image/png sizes=16x16 href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><script defer crossorigin=anonymous src=/js/pro.sidebar.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Scope"><meta property="og:description" content="💡 MSA 환경에서 개발을 하다 보니.. 여러가지 애로사항이 있다.. 😂 그 중 요즘 개발 중 가장 귀찮다고 느끼는 일은.. DB insert 시 식별자 값을 넣는 일이다..! 주로 생성자, 수정자 ID를 넣는 경우가 대부분인데.. 현 프로젝트에선 매번 해당 id 값들을 set, set, set 한다.. (너무 귀찮다..) 하여 Context로 소지하고 있는 userId 값을 mybatis의 bind로 가져와 set 하는 방식으로 전환 했다! 헌데 문제는.. MSA 환경에서 다른 서버로 값을 전달 시 Context를 그대로 사용하기 어렵다는 점 이였다."><meta property="og:type" content="article"><meta property="og:url" content="https://HyoseungJeon.github.io/posts/spring/scope/"><meta property="og:image" content="https://HyoseungJeon.github.io/profile2.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-15T10:38:49+09:00"><meta property="article:modified_time" content="2024-02-15T10:38:49+09:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://HyoseungJeon.github.io/profile2.png"><meta name=twitter:title content="Scope"><meta name=twitter:description content="💡 MSA 환경에서 개발을 하다 보니.. 여러가지 애로사항이 있다.. 😂 그 중 요즘 개발 중 가장 귀찮다고 느끼는 일은.. DB insert 시 식별자 값을 넣는 일이다..! 주로 생성자, 수정자 ID를 넣는 경우가 대부분인데.. 현 프로젝트에선 매번 해당 id 값들을 set, set, set 한다.. (너무 귀찮다..) 하여 Context로 소지하고 있는 userId 값을 mybatis의 bind로 가져와 set 하는 방식으로 전환 했다! 헌데 문제는.. MSA 환경에서 다른 서버로 값을 전달 시 Context를 그대로 사용하기 어렵다는 점 이였다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://HyoseungJeon.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Spring","item":"https://HyoseungJeon.github.io/posts/spring/"},{"@type":"ListItem","position":3,"name":"Scope","item":"https://HyoseungJeon.github.io/posts/spring/scope/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Scope","name":"Scope","description":"💡 MSA 환경에서 개발을 하다 보니.. 여러가지 애로사항이 있다.. 😂 그 중 요즘 개발 중 가장 귀찮다고 느끼는 일은.. DB insert 시 식별자 값을 넣는 일이다..! 주로 생성자, 수정자 ID를 넣는 경우가 대부분인데.. 현 프로젝트에선 매번 해당 id 값들을 set, set, set 한다.. (너무 귀찮다..) 하여 Context로 소지하고 있는 userId 값을 mybatis의 bind로 가져와 set 하는 방식으로 전환 했다! 헌데 문제는.. MSA 환경에서 다른 서버로 값을 전달 시 Context를 그대로 사용하기 어렵다는 점 이였다.","keywords":["Spring","Spring Boot"],"articleBody":" 💡 MSA 환경에서 개발을 하다 보니.. 여러가지 애로사항이 있다.. 😂 그 중 요즘 개발 중 가장 귀찮다고 느끼는 일은.. DB insert 시 식별자 값을 넣는 일이다..! 주로 생성자, 수정자 ID를 넣는 경우가 대부분인데.. 현 프로젝트에선 매번 해당 id 값들을 set, set, set 한다.. (너무 귀찮다..) 하여 Context로 소지하고 있는 userId 값을 mybatis의 bind로 가져와 set 하는 방식으로 전환 했다! 헌데 문제는.. MSA 환경에서 다른 서버로 값을 전달 시 Context를 그대로 사용하기 어렵다는 점 이였다..!! 해서 그 이유를 찾아 나서다 Scope에 대해 알게 되었다!! Scope 정의 When you create a bean definition, you create a recipe for creating actual instances of the class defined by that bean definition. The idea that a bean definition is a recipe is important, because it means that, as with a class, you can create many object instances from a single recipe. You can control not only the various dependencies and configuration values that are to be plugged into an object that is created from a particular bean definition but also control the scope of the objects created from a particular bean definition. This approach is powerful and flexible, because you can choose the scope of the objects you create through configuration instead of having to bake in the scope of an object at the Java class level. Beans can be defined to be deployed in one of a number of scopes. The Spring Framework supports six scopes, four of which are available only if you use a web-aware ApplicationContext. You can also create a custom scope. 출처 - https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html\n뭐 내용이 많지만.. 사실 그냥 단순하게 Bean 객체의 LiftTime을 설정하는 옵션 값 중 하나다!\n종류 Scope Description https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-singleton (Default) Scopes a single bean definition to a single object instance for each Spring IoC container. https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-prototype Scopes a single bean definition to any number of object instances. https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-request Scopes a single bean definition to the lifecycle of a single HTTP request. That is, each HTTP request has its own instance of a bean created off the back of a single bean definition. Only valid in the context of a web-aware Spring ApplicationContext. https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-session Scopes a single bean definition to the lifecycle of an HTTP Session. Only valid in the context of a web-aware Spring ApplicationContext. https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-application Scopes a single bean definition to the lifecycle of a ServletContext. Only valid in the context of a web-aware Spring ApplicationContext. https://docs.spring.io/spring-framework/reference/web/websocket/stomp/scope.html Scopes a single bean definition to the lifecycle of a WebSocket. Only valid in the context of a web-aware Spring ApplicationContext. 옵션 ProxyMode : bean 객체가 Scope 범위 내에서 하나의 단위 객체로 동작할 수 있도록 proxy pattern을 적용하는 option 이다. value 값으로 대상 Class type을 지정할 수 있다. DEFAULT,NO,INTERFACES,TARGET_CLASS 사용 예 소스 @Component @Scope(value = WebApplicationContext.SCOPE_SESSION, proxyMode = ScopedProxyMode.TARGET_CLASS) public class OfficeContext implement UserContext{ private Locale locale; private String dbTimeZone; private TimeZone javaTimeZone; /** 서버코드 */ private String serverCd; private UserInfo userInfo = null; ~~~~~ @Override public \u003cT extends UserInfo\u003e T getUserInfo() { return (T)userInfo ; } ~~~~~ } 설명 사용자의 Context를 session Scope로 지정해 관리하여, Login 시점에 Context에 정보를 set 후, proxyMode를 통하여 각 Component에서 주입 받아 사용할 수 있게 구현되어있다!\n애로사항 문제는 MSA 환경에서 나온다..😂 해당 server에서 사용자의 Context를 세션 단위로 소지하고 있지만, Server 내에 종속된 정보로 다른 Server에서 사용하기는 당연히!! 어렵다. 물론 MSA 간 통신을 위한 모듈에 해당 Context 정보 소지 시, 공통적으로 같이 담아 보내는 소스가 있다면 좋겠지만.. 현재는 해당하는 내용이 없어 따로 request Data에 매번 담아서 데이터를 보내고 있다!!\n개선 방향 사실 내 생각은 간단하다. 통신 모듈 단 에서 현재 Context에 Info값이 존재 시 데이터를 header에 넣어 송신해주는 것이다! 수신 서버에서는 request 범위의 Context를 새로 생성하여 intercepter 에서 token 값을 읽어 해당 Context를 그대로 주입하도록 하도록 만드는 것이 내 생각이다!\n사실 현재는 userId 만 사용하는 경우가 대다수라 작업과 연산량에 비하여 배꼽이 너무 큰 것 같기도 하다.. 하지만 현재 프로젝트의 Context 정보에는 생각보다 유용한 정보가 많다!! 이를 활용하여 작업을 한다면 더 효율적이지 않을까..?\n내 생각 사실 불필요한 소스를 줄인다 보다는, 약속된 값을 사용한다의 개념에서 해당 기능이 필요하다고 본다! 만약 해당 Context 정보를 활용하는 경우라면, 우리는 약속한 interface를 통해 원하는 값을 가져오게 할 수 있다! 허면 불필요한 error Case와 작업자의 실수 등 여러가지 방향에서도 운영 관리의 용이성을 크게 증대시켜 준다고 생각한다! 현재 소스의 여러 곳에 Common Data를 set, set, set 하는 코드가 너무 많다.. 특히나 bulk 단위의 데이터 전송 때에는 똑같은 데이터를 1,000 곳에 넣고 네트워크를 통해 보내고 받는다.. 😂😂 요즘 성능이 다 좋으니 문제가 없다면 다행이지만, 개발적인 측면에서 최대한 서로의 약속을 만들고 활용하는게 좋지 않을까..? 🙄\n출처 Bean Scopes :: Spring Framework 7. [스프링 핵심 원리 - 기본편] 빈 스코프(Bean Scope) [Spring] 빈 스코프(Bean Scope)란? Dependency Lookup(DL)이란?\n","wordCount":"752","inLanguage":"en","datePublished":"2024-02-15T10:38:49+09:00","dateModified":"2024-02-15T10:38:49+09:00","author":{"@type":"Person","name":"HyoSeung Jeon"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://HyoseungJeon.github.io/posts/spring/scope/"},"publisher":{"@type":"Organization","name":"HyoSeung IT blog","logo":{"@type":"ImageObject","url":"https://HyoseungJeon.github.io/profile.png"}}}</script><link rel=stylesheet href=https://HyoseungJeon.github.io/scss/main.css></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://HyoseungJeon.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://HyoseungJeon.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://HyoseungJeon.github.io/posts/ title=posts class=btn-12><span style=font-family:SUITE-Regular;font-size:19px>posts</span></a></li><li><a href=https://HyoseungJeon.github.io/tags/ title=tags class=btn-12><span style=font-family:SUITE-Regular;font-size:19px>tags</span></a></li><li><a href=https://HyoseungJeon.github.io/archives/ title=archives class=btn-12><span style=font-family:SUITE-Regular;font-size:19px>archives</span></a></li><li><a href=https://HyoseungJeon.github.io/search/ title="search (Alt + /)" class=btn-12 accesskey=/><span style=font-family:SUITE-Regular;font-size:19px>search</span></a></li></ul></nav></header><main class="main page"><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://HyoseungJeon.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://HyoseungJeon.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://HyoseungJeon.github.io/posts/spring/>Spring</a></div><h1 class=post-title>Scope</h1><div class=post-meta><span title='2024-02-15 10:38:49 +0900 +0900'>February 15, 2024</span>&nbsp;·&nbsp;752 words&nbsp;·&nbsp;HyoSeung Jeon</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner style=padding-top:10px><ul><li><a href=#scope aria-label=Scope>Scope</a><ul><li><a href=#%ec%a0%95%ec%9d%98 aria-label=정의>정의</a></li><li><a href=#%ec%a2%85%eb%a5%98 aria-label=종류>종류</a></li><li><a href=#%ec%98%b5%ec%85%98 aria-label=옵션>옵션</a></li></ul></li><li><a href=#%ec%82%ac%ec%9a%a9-%ec%98%88 aria-label="사용 예">사용 예</a><ul><li><a href=#%ec%86%8c%ec%8a%a4 aria-label=소스>소스</a></li><li><a href=#%ec%84%a4%eb%aa%85 aria-label=설명>설명</a></li><li><a href=#%ec%95%a0%eb%a1%9c%ec%82%ac%ed%95%ad aria-label=애로사항>애로사항</a></li><li><a href=#%ea%b0%9c%ec%84%a0-%eb%b0%a9%ed%96%a5 aria-label="개선 방향">개선 방향</a></li></ul></li><li><a href=#%eb%82%b4-%ec%83%9d%ea%b0%81 aria-label="내 생각">내 생각</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?(document.getElementById("toc-container").classList.add("wide"),document.getElementById("menu-container").style.display=""):(document.getElementById("toc-container").classList.remove("wide"),document.getElementById("menu-container").style.display="none")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css><link rel=stylesheet href=https://unpkg.com/css-pro-layout@1.1.0/dist/css/css-pro-layout.css><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"><script src=https://unpkg.com/@popperjs/core@2></script><div id=menu-container class="layout toc-container wide-r"><aside id=sidebar class="sidebar break-point-sm has-bg-image" style=width:100%;position:sticky;top:var(--gap)><div class=sidebar-layout><div class=sidebar-content><nav class="menu open-current-submenu"><ul><li class="menu-item sub-menu" name=API data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>API
<span class=menu-title-suffix>(4)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=FCM data-level=1><a href=/posts/api/fcm/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>FCM</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Nice 본인인증" data-level=1><a href=/posts/api/nice%EB%B3%B8%EC%9D%B8%EC%9D%B8%EC%A6%9D/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Nice 본인인증</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Nice본인인증 이슈대응" data-level=1><a href=/posts/api/nice%EB%B3%B8%EC%9D%B8%EC%9D%B8%EC%A6%9D%EC%9D%B4%EC%8A%88%EB%8C%80%EC%9D%91/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Nice본인인증 이슈대응</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Nice본인인증이슈대응2 data-level=1><a href=/posts/api/nice%EB%B3%B8%EC%9D%B8%EC%9D%B8%EC%A6%9D%EC%9D%B4%EC%8A%88%EB%8C%80%EC%9D%912/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Nice본인인증이슈대응2</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=Chrome data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Chrome
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=Debug data-level=1><a href=/posts/chrome/debug/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Debug</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name="Design Pattern" data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Design Pattern
<span class=menu-title-suffix>(3)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item sub-menu" name="Behavioral Patterns" data-level=1><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Behavioral Patterns
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Strategy Pattern" data-level=2><a href=/posts/designpattern/behavioralpatterns/strategypattern/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Strategy Pattern</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item page-menu" name="Creational Patterns" data-level=1><a href=/posts/designpattern/creationalpatterns/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Creational Patterns</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Structural Patterns" data-level=1><a href=/posts/designpattern/structuralpatterns/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Structural Patterns</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=ETC data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>ETC
<span class=menu-title-suffix>(5)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=CDN data-level=1><a href=/posts/etc/cdn/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>CDN</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=LDAP data-level=1><a href=/posts/etc/ldap/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>LDAP</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="MSA Id Auditing" data-level=1><a href=/posts/etc/msaidauditing/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>MSA Id Auditing</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="MSA 환경 TraceId Logging" data-level=1><a href=/posts/etc/msa-%ED%99%98%EA%B2%BD-traceid-logging/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>MSA 환경 TraceId Logging</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=OAuth data-level=1><a href=/posts/etc/oauth/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>OAuth</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=HTML data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>HTML
<span class=menu-title-suffix>(2)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Page Reload Issue" data-level=1><a href=/posts/html/pagereloadissue/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Page Reload Issue</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Page Reload Issue 2" data-level=1><a href=/posts/html/pagereloadissue2/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Page Reload Issue 2</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=Intellij data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Intellij
<span class=menu-title-suffix>(3)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=Command data-level=1><a href=/posts/intellij/command/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Command</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Properties Auto Upper" data-level=1><a href=/posts/intellij/propertiesautoupper/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Properties Auto Upper</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Thymeleaf data-level=1><a href=/posts/intellij/thymeleaf/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Thymeleaf</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=Java data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Java
<span class=menu-title-suffix>(10)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Blocking Queue" data-level=1><a href=/posts/java/blockingqueue/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Blocking Queue</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Cursor data-level=1><a href=/posts/java/cursor/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Cursor</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=File data-level=1><a href=/posts/java/file/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>File</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Function Package" data-level=1><a href=/posts/java/function-package/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Function Package</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Future data-level=1><a href=/posts/java/future/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Future</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Generic data-level=1><a href=/posts/java/generic/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Generic</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Jasypt data-level=1><a href=/posts/java/jasypt/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Jasypt</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Reflection data-level=1><a href=/posts/java/reflection/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Reflection</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Synchronized data-level=1><a href=/posts/java/synchronized/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Synchronized</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Thread Local" data-level=1><a href=/posts/java/threadlocal/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Thread Local</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name="Java Script" data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Java Script
<span class=menu-title-suffix>(2)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Custom Validate" data-level=1><a href=/posts/javascript/customvalidate/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Custom Validate</span>
<span class=menu-suffix></span></a></li><li class="menu-item sub-menu" name=Date data-level=1><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Date
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=setDate data-level=2><a href=/posts/javascript/date/setdate/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>setDate</span>
<span class=menu-suffix></span></a></li></ul></div></li></ul></div></li><li class="menu-item sub-menu" name=JQuery data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>JQuery
<span class=menu-title-suffix>(2)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="JQuery Validate" data-level=1><a href=/posts/jquery/validate/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>JQuery Validate</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=ZTree data-level=1><a href=/posts/jquery/ztree/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>ZTree</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=Spring data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Spring
<span class=menu-title-suffix>(6)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=Async data-level=1><a href=/posts/spring/async/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Async</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Cache data-level=1><a href=/posts/spring/cache/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Cache</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Custom Validate Annotation" data-level=1><a href=/posts/spring/customvalidateannotation/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Custom Validate Annotation</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=RequestContextHolder data-level=1><a href=/posts/spring/requestcontextholder/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>RequestContextHolder</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name=Scope data-level=1><a href=/posts/spring/scope/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Scope</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="Spring Security" data-level=1><a href=/posts/spring/springsecurity/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Spring Security</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=SQL data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>SQL
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="With Recursive" data-level=1><a href=/posts/sql/withrecursive/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>With Recursive</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=Window data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>Window
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Nud 메모리누수" data-level=1><a href=/posts/window/nud%EB%A9%94%EB%AA%A8%EB%A6%AC%EB%88%84%EC%88%98/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Nud 메모리누수</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=독후감 data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>독후감
<span class=menu-title-suffix>(2)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name="Clean Architecture" data-level=1><a href=/posts/%EB%8F%85%ED%9B%84%EA%B0%90/cleanarchitecture/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>Clean Architecture</span>
<span class=menu-suffix></span></a></li><li class="menu-item page-menu" name="쏙쏙 들어오는 함수형 코딩" data-level=1><a href=/posts/%EB%8F%85%ED%9B%84%EA%B0%90/%ED%95%A8%EC%88%98%ED%98%95%EC%BD%94%EB%94%A9/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>쏙쏙 들어오는 함수형 코딩</span>
<span class=menu-suffix></span></a></li></ul></div></li><li class="menu-item sub-menu" name=일기장 data-level=0><a href=#><span class=menu-icon><i class=ri-book-line></i></span>
<span class=menu-title>일기장
<span class=menu-title-suffix>(1)</span></span>
<span class=menu-suffix></span></a><div class=sub-menu-list data-popper-placement=left><ul><li class="menu-item page-menu" name=23.07.18 data-level=1><a href=/posts/%EC%9D%BC%EA%B8%B0%EC%9E%A5/23-07-18/ class=page><span class=menu-icon><i class=ri-sticky-note-fill></i></span>
<span class=menu-title>23.07.18</span>
<span class=menu-suffix></span></a></li></ul></div></li><ul></nav></div></div><div class=sidebar-footer></div></aside></div><style scoped></style><link rel=stylesheet href=https://HyoseungJeon.github.io/scss/pro-sidebar.css><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition()},!1),window.addEventListener("resize",function(){checkTocPosition()},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("menu-container").style.display="":document.getElementById("menu-container").style.display="none"}</script><div class=post-content><hr><style>#callout{background:#f1f1ef;padding:1.5em 1.25em;border-radius:3px;display:flex;flex-direction:row;margin-bottom:20px;color:var(--hljs-bg)}#callout-inner{margin-left:1em;white-space:pre-line}@media(max-width:767px){#callout{padding:1.5em .75em 1.5em .6em}#callout-inner{margin-left:.5em}}</style><div id=callout><div>💡</div><div id=callout-inner>MSA 환경에서 개발을 하다 보니.. 여러가지 애로사항이 있다.. 😂 그 중 요즘 개발 중 가장 귀찮다고 느끼는 일은.. DB insert 시 식별자 값을 넣는 일이다..!
주로 생성자, 수정자 ID를 넣는 경우가 대부분인데.. 현 프로젝트에선 매번 해당 id 값들을 set, set, set 한다.. (너무 귀찮다..)
하여 Context로 소지하고 있는 userId 값을 mybatis의 bind로 가져와 set 하는 방식으로 전환 했다! 헌데 문제는.. MSA 환경에서 다른 서버로 값을 전달 시 Context를 그대로 사용하기 어렵다는 점 이였다..!! 해서 그 이유를 찾아 나서다 Scope에 대해 알게 되었다!!</div></div><h2 id=scope>Scope<a hidden class=anchor aria-hidden=true href=#scope>#</a></h2><h3 id=정의>정의<a hidden class=anchor aria-hidden=true href=#정의>#</a></h3><blockquote><p>When you create a bean definition, you create a recipe for creating actual instances of the class defined by that bean definition. The idea that a bean definition is a recipe is important, because it means that, as with a class, you can create many object instances from a single recipe.
You can control not only the various dependencies and configuration values that are to be plugged into an object that is created from a particular bean definition but also control the scope of the objects created from a particular bean definition. This approach is powerful and flexible, because you can choose the scope of the objects you create through configuration instead of having to bake in the scope of an object at the Java class level. Beans can be defined to be deployed in one of a number of scopes. The Spring Framework supports six scopes, four of which are available only if you use a web-aware <code>ApplicationContext</code>. You can also create <a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-custom>a custom scope.</a>
출처 - <a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html</a></p></blockquote><p>뭐 내용이 많지만.. 사실 그냥 단순하게 Bean 객체의 LiftTime을 설정하는 옵션 값 중 하나다!</p><h3 id=종류>종류<a hidden class=anchor aria-hidden=true href=#종류>#</a></h3><table><thead><tr><th>Scope</th><th>Description</th></tr></thead><tbody><tr><td><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-singleton>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-singleton</a></td><td>(Default) Scopes a single bean definition to a single object instance for each Spring IoC container.</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-prototype>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-prototype</a></td><td>Scopes a single bean definition to any number of object instances.</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-request>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-request</a></td><td>Scopes a single bean definition to the lifecycle of a single HTTP request. That is, each HTTP request has its own instance of a bean created off the back of a single bean definition. Only valid in the context of a web-aware Spring ApplicationContext.</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-session>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-session</a></td><td>Scopes a single bean definition to the lifecycle of an HTTP Session. Only valid in the context of a web-aware Spring ApplicationContext.</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-application>https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html#beans-factory-scopes-application</a></td><td>Scopes a single bean definition to the lifecycle of a ServletContext. Only valid in the context of a web-aware Spring ApplicationContext.</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/reference/web/websocket/stomp/scope.html>https://docs.spring.io/spring-framework/reference/web/websocket/stomp/scope.html</a></td><td>Scopes a single bean definition to the lifecycle of a WebSocket. Only valid in the context of a web-aware Spring ApplicationContext.</td></tr></tbody></table><h3 id=옵션>옵션<a hidden class=anchor aria-hidden=true href=#옵션>#</a></h3><ul><li>ProxyMode : bean 객체가 Scope 범위 내에서 하나의 단위 객체로 동작할 수 있도록 proxy pattern을 적용하는 option 이다. value 값으로 대상 Class type을 지정할 수 있다.<ul><li><code>DEFAULT,NO,INTERFACES,TARGET_CLASS</code></li></ul></li></ul><h2 id=사용-예>사용 예<a hidden class=anchor aria-hidden=true href=#사용-예>#</a></h2><h3 id=소스>소스<a hidden class=anchor aria-hidden=true href=#소스>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Component</span>
</span></span><span class=line><span class=cl><span class=nd>@Scope</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=n>WebApplicationContext</span><span class=o>.</span><span class=na>SCOPE_SESSION</span><span class=o>,</span> <span class=n>proxyMode</span> <span class=o>=</span> <span class=n>ScopedProxyMode</span><span class=o>.</span><span class=na>TARGET_CLASS</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>OfficeContext</span> <span class=n>implement</span> <span class=n>UserContext</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>Locale</span> <span class=n>locale</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>String</span> <span class=n>dbTimeZone</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>TimeZone</span> <span class=n>javaTimeZone</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=cm>/** 서버코드 */</span>
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>String</span> <span class=n>serverCd</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=n>UserInfo</span> <span class=n>userInfo</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=o>~~~~~</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nd>@Override</span>
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=o>&lt;</span><span class=n>T</span> <span class=kd>extends</span> <span class=n>UserInfo</span><span class=o>&gt;</span> <span class=n>T</span> <span class=nf>getUserInfo</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=o>(</span><span class=n>T</span><span class=o>)</span><span class=n>userInfo</span> <span class=o>;</span>
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=o>~~~~~</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h3 id=설명>설명<a hidden class=anchor aria-hidden=true href=#설명>#</a></h3><p>사용자의 Context를 session Scope로 지정해 관리하여, Login 시점에 Context에 정보를 set 후, proxyMode를 통하여 각 Component에서 주입 받아 사용할 수 있게 구현되어있다!</p><h3 id=애로사항>애로사항<a hidden class=anchor aria-hidden=true href=#애로사항>#</a></h3><p>문제는 MSA 환경에서 나온다..😂 해당 server에서 사용자의 Context를 세션 단위로 소지하고 있지만, Server 내에 종속된 정보로 다른 Server에서 사용하기는 당연히!! 어렵다. 물론 MSA 간 통신을 위한 모듈에 해당 Context 정보 소지 시, 공통적으로 같이 담아 보내는 소스가 있다면 좋겠지만.. 현재는 해당하는 내용이 없어 따로 request Data에 매번 담아서 데이터를 보내고 있다!!</p><h3 id=개선-방향>개선 방향<a hidden class=anchor aria-hidden=true href=#개선-방향>#</a></h3><p>사실 내 생각은 간단하다. 통신 모듈 단 에서 현재 Context에 Info값이 존재 시 데이터를 header에 넣어 송신해주는 것이다! 수신 서버에서는 request 범위의 Context를 새로 생성하여 intercepter 에서 token 값을 읽어 해당 Context를 그대로 주입하도록 하도록 만드는 것이 내 생각이다!</p><p>사실 현재는 userId 만 사용하는 경우가 대다수라 작업과 연산량에 비하여 배꼽이 너무 큰 것 같기도 하다.. 하지만 현재 프로젝트의 Context 정보에는 생각보다 유용한 정보가 많다!! 이를 활용하여 작업을 한다면 더 효율적이지 않을까..?</p><h2 id=내-생각>내 생각<a hidden class=anchor aria-hidden=true href=#내-생각>#</a></h2><p>사실 불필요한 소스를 줄인다 보다는, 약속된 값을 사용한다의 개념에서 해당 기능이 필요하다고 본다! 만약 해당 Context 정보를 활용하는 경우라면, 우리는 약속한 interface를 통해 원하는 값을 가져오게 할 수 있다! 허면 불필요한 error Case와 작업자의 실수 등 여러가지 방향에서도 운영 관리의 용이성을 크게 증대시켜 준다고 생각한다! 현재 소스의 여러 곳에 Common Data를 set, set, set 하는 코드가 너무 많다.. 특히나 bulk 단위의 데이터 전송 때에는 똑같은 데이터를 1,000 곳에 넣고 네트워크를 통해 보내고 받는다.. 😂😂 요즘 성능이 다 좋으니 문제가 없다면 다행이지만, 개발적인 측면에서 최대한 서로의 약속을 만들고 활용하는게 좋지 않을까..? 🙄</p><p>출처
<a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html>Bean Scopes :: Spring Framework</a>
<a href=https://mslim8803.tistory.com/70>7. [스프링 핵심 원리 - 기본편] 빈 스코프(Bean Scope)</a>
<a href=https://code-lab1.tistory.com/186>[Spring] 빈 스코프(Bean Scope)란? Dependency Lookup(DL)이란?</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://HyoseungJeon.github.io/tags/spring/>Spring</a></li><li><a href=https://HyoseungJeon.github.io/tags/spring-boot/>Spring Boot</a></li></ul><nav class=paginav><a class=prev href=https://HyoseungJeon.github.io/posts/spring/cache/><span class=title>« Prev</span><br><span>Cache</span></a>
<a class=next href=https://HyoseungJeon.github.io/posts/%EB%8F%85%ED%9B%84%EA%B0%90/%ED%95%A8%EC%88%98%ED%98%95%EC%BD%94%EB%94%A9/><span class=title>Next »</span><br><span>쏙쏙 들어오는 함수형 코딩</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://HyoseungJeon.github.io/>HyoSeung IT blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>