<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Nice 본인인증 | HyoSeung IT blog</title><meta name=keywords content="Java,JavaScript,Authentication"><meta name=description content="Nice 본인인증 이란? NICE 평가정보 회사에서 제공하는 본인 확인 서비스로 사용자의 주민등록번호 등과 같은 정보를 통해 실명 확인 과정을 거쳐 사용자의 명의를 확인할 수 있는 기능을 제공하는 API 이다.
아마 내 생각엔 국내에서 개인 인증을 해야 하는 모든 사이트들이 API를 사용하여 인증을 하고 있을 것이다! 나 또한 엄청 쓰는 것 같다..
해서 프로젝트 에서는 Nice 본인인증의 휴대폰 본인확인 방식을 넣게 되었다!
개발 개발 방향 해당 API 에 관련하여 Docs 에서 자료를 찾아본 결과, API 호출 방식과 jsp file로 구현하는 방식으로 2개의 가이드라인을 제공하고 있었다."><meta name=author content="HyoSeung Jeon"><link rel=canonical href=https://HyoseungJeon.github.io/posts/api/nice%EB%B3%B8%EC%9D%B8%EC%9D%B8%EC%A6%9D/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href="https://avatars.githubusercontent.com/u/39950673?s=400&amp;u=729b17ca9c5632e754da66f17f45eb61aeea271e&amp;v=4"><link rel=icon type=image/png sizes=16x16 href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://HyoseungJeon.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Nice 본인인증"><meta property="og:description" content="Nice 본인인증 이란? NICE 평가정보 회사에서 제공하는 본인 확인 서비스로 사용자의 주민등록번호 등과 같은 정보를 통해 실명 확인 과정을 거쳐 사용자의 명의를 확인할 수 있는 기능을 제공하는 API 이다.
아마 내 생각엔 국내에서 개인 인증을 해야 하는 모든 사이트들이 API를 사용하여 인증을 하고 있을 것이다! 나 또한 엄청 쓰는 것 같다..
해서 프로젝트 에서는 Nice 본인인증의 휴대폰 본인확인 방식을 넣게 되었다!
개발 개발 방향 해당 API 에 관련하여 Docs 에서 자료를 찾아본 결과, API 호출 방식과 jsp file로 구현하는 방식으로 2개의 가이드라인을 제공하고 있었다."><meta property="og:type" content="article"><meta property="og:url" content="https://HyoseungJeon.github.io/posts/api/nice%EB%B3%B8%EC%9D%B8%EC%9D%B8%EC%A6%9D/"><meta property="og:image" content="https://avatars.githubusercontent.com/u/39950673?s=400&u=729b17ca9c5632e754da66f17f45eb61aeea271e&v=4"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-27T15:13:07+09:00"><meta property="article:modified_time" content="2023-07-27T15:13:07+09:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://avatars.githubusercontent.com/u/39950673?s=400&u=729b17ca9c5632e754da66f17f45eb61aeea271e&v=4"><meta name=twitter:title content="Nice 본인인증"><meta name=twitter:description content="Nice 본인인증 이란? NICE 평가정보 회사에서 제공하는 본인 확인 서비스로 사용자의 주민등록번호 등과 같은 정보를 통해 실명 확인 과정을 거쳐 사용자의 명의를 확인할 수 있는 기능을 제공하는 API 이다.
아마 내 생각엔 국내에서 개인 인증을 해야 하는 모든 사이트들이 API를 사용하여 인증을 하고 있을 것이다! 나 또한 엄청 쓰는 것 같다..
해서 프로젝트 에서는 Nice 본인인증의 휴대폰 본인확인 방식을 넣게 되었다!
개발 개발 방향 해당 API 에 관련하여 Docs 에서 자료를 찾아본 결과, API 호출 방식과 jsp file로 구현하는 방식으로 2개의 가이드라인을 제공하고 있었다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://HyoseungJeon.github.io/posts/"},{"@type":"ListItem","position":2,"name":"API","item":"https://HyoseungJeon.github.io/posts/api/"},{"@type":"ListItem","position":3,"name":"Nice 본인인증","item":"https://HyoseungJeon.github.io/posts/api/nice%EB%B3%B8%EC%9D%B8%EC%9D%B8%EC%A6%9D/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Nice 본인인증","name":"Nice 본인인증","description":"Nice 본인인증 이란? NICE 평가정보 회사에서 제공하는 본인 확인 서비스로 사용자의 주민등록번호 등과 같은 정보를 통해 실명 확인 과정을 거쳐 사용자의 명의를 확인할 수 있는 기능을 제공하는 API 이다.\n아마 내 생각엔 국내에서 개인 인증을 해야 하는 모든 사이트들이 API를 사용하여 인증을 하고 있을 것이다! 나 또한 엄청 쓰는 것 같다..\n해서 프로젝트 에서는 Nice 본인인증의 휴대폰 본인확인 방식을 넣게 되었다!\n개발 개발 방향 해당 API 에 관련하여 Docs 에서 자료를 찾아본 결과, API 호출 방식과 jsp file로 구현하는 방식으로 2개의 가이드라인을 제공하고 있었다.","keywords":["Java","JavaScript","Authentication"],"articleBody":" Nice 본인인증 이란? NICE 평가정보 회사에서 제공하는 본인 확인 서비스로 사용자의 주민등록번호 등과 같은 정보를 통해 실명 확인 과정을 거쳐 사용자의 명의를 확인할 수 있는 기능을 제공하는 API 이다.\n아마 내 생각엔 국내에서 개인 인증을 해야 하는 모든 사이트들이 API를 사용하여 인증을 하고 있을 것이다! 나 또한 엄청 쓰는 것 같다..\n해서 프로젝트 에서는 Nice 본인인증의 휴대폰 본인확인 방식을 넣게 되었다!\n개발 개발 방향 해당 API 에 관련하여 Docs 에서 자료를 찾아본 결과, API 호출 방식과 jsp file로 구현하는 방식으로 2개의 가이드라인을 제공하고 있었다.\n본 프로젝트에서는 다른 프로젝트에서 JSP 방식의 구현을 채택하여 사용 중 이여서 그런지 해당 방식으로 기능을 구현하기로 했다.\nGuide Line 사용 방법은 굉장히 간단하다!\nNice에서 제공하는 .jar File을 project에 import 하고,\n가이드에 나와있는 .jsp File들을 참고하여 사용자의 key 등등의 custom 값들만 변경해주면 사용 준비는 끝난다\n우리는 프로젝트의 Nexus Repository에 해당 .jar File을 업로드 후 당겨서 쓰는 방식으로 setting 을 했다!\n다른 부분들은 굉장히 기본적이지만 내가 집중해서 말하고 싶은 부분이 있다\n해당 기능은 당연하게도 공통 방식으로 구현이 된다. 해서 모든 페이지에서 호출이 가능하고 적절한 response를 돌려줘야 한다!\n가이드 문서의 구현 방식은 returnUrl을 popup Open 시 request로 받고 인증 완료 시 해당 Url site로 결과값과 함께 redirect 해주는 방식으로 되어있었다!\n처음에 해당 가이드를 통해 생각을 했을 때에는 그럼 사용자에게 request로 returnUrl을 입력 받아야겠다! 라고 생각을 하게 되었다.\n하지만 해당 방식은 사용자에게 꽤나 불편한..? 요소로 작용할 것 같았다. 호출 시에 매번 호출 페이지의 URL을 보내야 한다니 조금 이상하긴 했다.\n해서 다른 예제들을 참고하여 기능을 재구현 했다!\n내 구현 방식 사용자는 단순히 js내의 nice 본인인증 Open Method을 호출하고\ndata Setting 부분은 공통으로 처리\n단, returnUrl에 사용자의 returnUrl이 아닌 공통의 redirect Page의 URL을 넣는다.\nvar niceInfo = ${niceInfo}; opener.parent.callback(niceInfo); close(); 해당 redirect Page는 Nice에서 받은 사용자 정보를 Method를 호출한 js File의 callback method에 param을 담아 호출하고, page를 닫는다.\n하면 사용자는 인증 완료 시 호출할 callBack method 1개와 본인 인증 호출 method 한줄만 추가하면 사용할 수 있게 된다. 넘겨줄 값이 없다!! 사용 편의성이 훨씬 좋지 않은가..?\n내 생각 아마 혼자 개발 했다면 가이드 라인대로 개발을 진행했을 것 같다.. 하지만 브라우저의 Window 객체를 통한 활용 방식을 알고 있었다면 굉장히 간단히 구현해냈을 기능이다..\n웹 개발을 비교적 최신 기술인 Vue 2.0 부터 시작해서 인지 Popup 관련한 지식이나 Window 객체의 활용에 대한 지식이 부족한 것 같다 😢\nwindow Popup은 꼭 Window.opener 인터페이스가 따라온다! 함께 생각하도록 하자!!\n출처\nNICE아이디 - 휴대폰본인확인\n","wordCount":"373","inLanguage":"en","datePublished":"2023-07-27T15:13:07+09:00","dateModified":"2023-07-27T15:13:07+09:00","author":{"@type":"Person","name":"HyoSeung Jeon"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://HyoseungJeon.github.io/posts/api/nice%EB%B3%B8%EC%9D%B8%EC%9D%B8%EC%A6%9D/"},"publisher":{"@type":"Organization","name":"HyoSeung IT blog","logo":{"@type":"ImageObject","url":"https://avatars.githubusercontent.com/u/39950673?s=400\u0026u=729b17ca9c5632e754da66f17f45eb61aeea271e\u0026v=4"}}}</script><link rel=stylesheet href=https://HyoseungJeon.github.io/scss/main.css></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://HyoseungJeon.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://HyoseungJeon.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://HyoseungJeon.github.io/posts/ title=posts><span style=font-family:SUITE-Regular;font-size:19px>posts</span></a></li><li><a href=https://HyoseungJeon.github.io/tags/ title=tags><span style=font-family:SUITE-Regular;font-size:19px>tags</span></a></li><li><a href=https://HyoseungJeon.github.io/archives/ title=archives><span style=font-family:SUITE-Regular;font-size:19px>archives</span></a></li><li><a href=https://HyoseungJeon.github.io/search/ title="search (Alt + /)" accesskey=/><span style=font-family:SUITE-Regular;font-size:19px><i class='fa-brands fa-github'></i>search</span></a></li></ul></nav></header><main class="main page"><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://HyoseungJeon.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://HyoseungJeon.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://HyoseungJeon.github.io/posts/api/>API</a></div><h1 class=post-title>Nice 본인인증</h1><div class=post-meta><span title='2023-07-27 15:13:07 +0900 +0900'>July 27, 2023</span>&nbsp;·&nbsp;373 words&nbsp;·&nbsp;HyoSeung Jeon</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner style=padding-top:10px><ul><li><a href=#nice-%eb%b3%b8%ec%9d%b8%ec%9d%b8%ec%a6%9d-%ec%9d%b4%eb%9e%80 aria-label="Nice 본인인증 이란?">Nice 본인인증 이란?</a></li><li><a href=#%ea%b0%9c%eb%b0%9c aria-label=개발>개발</a><ul><li><a href=#%ea%b0%9c%eb%b0%9c-%eb%b0%a9%ed%96%a5 aria-label="개발 방향">개발 방향</a></li><li><a href=#guide-line aria-label="Guide Line">Guide Line</a></li><li><a href=#%eb%82%b4-%ea%b5%ac%ed%98%84-%eb%b0%a9%ec%8b%9d aria-label="내 구현 방식">내 구현 방식</a></li></ul></li><li><a href=#%eb%82%b4-%ec%83%9d%ea%b0%81 aria-label="내 생각">내 생각</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><hr><h2 id=nice-본인인증-이란>Nice 본인인증 이란?<a hidden class=anchor aria-hidden=true href=#nice-본인인증-이란>#</a></h2><p><strong>NICE 평가정보 회사</strong>에서 제공하는 본인 확인 서비스로
사용자의 주민등록번호 등과 같은 정보를 통해 실명 확인 과정을 거쳐 사용자의 명의를 확인할 수 있는 기능을 제공하는 API 이다.</p><p>아마 내 생각엔 국내에서 개인 인증을 해야 하는 모든 사이트들이 API를 사용하여 인증을 하고 있을 것이다! 나 또한 엄청 쓰는 것 같다..</p><p>해서 프로젝트 에서는 Nice 본인인증의 휴대폰 본인확인 방식을 넣게 되었다!</p><h2 id=개발>개발<a hidden class=anchor aria-hidden=true href=#개발>#</a></h2><h3 id=개발-방향>개발 방향<a hidden class=anchor aria-hidden=true href=#개발-방향>#</a></h3><p>해당 API 에 관련하여 Docs 에서 자료를 찾아본 결과, API 호출 방식과 jsp file로 구현하는 방식으로 2개의 가이드라인을 제공하고 있었다.</p><p>본 프로젝트에서는 다른 프로젝트에서 <strong>JSP 방식의 구현</strong>을 채택하여 사용 중 이여서 그런지 해당 방식으로 기능을 구현하기로 했다.</p><h3 id=guide-line>Guide Line<a hidden class=anchor aria-hidden=true href=#guide-line>#</a></h3><p>사용 방법은 굉장히 간단하다!</p><p>Nice에서 제공하는 <code>.jar</code> File을 project에 import 하고,</p><p>가이드에 나와있는 <code>.jsp</code> File들을 참고하여 사용자의 key 등등의 custom 값들만 변경해주면 사용 준비는 끝난다</p><p>우리는 프로젝트의 <strong>Nexus Repository</strong>에 해당 <code>.jar</code> File을 업로드 후 당겨서 쓰는 방식으로 setting 을 했다!</p><p>다른 부분들은 굉장히 기본적이지만 내가 집중해서 말하고 싶은 부분이 있다</p><p>해당 기능은 당연하게도 공통 방식으로 구현이 된다. 해서 모든 페이지에서 호출이 가능하고 적절한 response를 돌려줘야 한다!</p><p>가이드 문서의 구현 방식은 returnUrl을 popup Open 시 request로 받고 인증 완료 시 해당 Url site로 결과값과 함께 redirect 해주는 방식으로 되어있었다!</p><p>처음에 해당 가이드를 통해 생각을 했을 때에는 그럼 사용자에게 request로 returnUrl을 입력 받아야겠다! 라고 생각을 하게 되었다.</p><p>하지만 해당 방식은 사용자에게 꽤나 불편한..? 요소로 작용할 것 같았다. 호출 시에 매번 호출 페이지의 URL을 보내야 한다니 조금 이상하긴 했다.</p><p>해서 다른 예제들을 참고하여 <strong>기능을 재구현</strong> 했다!</p><h3 id=내-구현-방식>내 구현 방식<a hidden class=anchor aria-hidden=true href=#내-구현-방식>#</a></h3><p>사용자는 단순히 js내의 nice 본인인증 Open Method을 호출하고</p><p>data Setting 부분은 공통으로 처리</p><p>단, returnUrl에 사용자의 returnUrl이 아닌 공통의 redirect Page의 URL을 넣는다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kd>var</span> <span class=nx>niceInfo</span> <span class=o>=</span> <span class=nx>$</span><span class=p>{</span><span class=nx>niceInfo</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=nx>opener</span><span class=p>.</span><span class=nx>parent</span><span class=p>.</span><span class=nx>callback</span><span class=p>(</span><span class=nx>niceInfo</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>close</span><span class=p>();</span>
</span></span></code></pre></div><p>해당 redirect Page는 Nice에서 받은 사용자 정보를 Method를 호출한 js File의 callback method에 param을 담아 호출하고, page를 닫는다.</p><p>하면 사용자는 인증 완료 시 호출할 callBack method 1개와 본인 인증 호출 method 한줄만 추가하면 사용할 수 있게 된다. 넘겨줄 값이 없다!! 사용 편의성이 훨씬 좋지 않은가..?</p><h2 id=내-생각>내 생각<a hidden class=anchor aria-hidden=true href=#내-생각>#</a></h2><p>아마 혼자 개발 했다면 가이드 라인대로 개발을 진행했을 것 같다.. 하지만 브라우저의 Window 객체를 통한 활용 방식을 알고 있었다면 굉장히 간단히 구현해냈을 기능이다..</p><p>웹 개발을 비교적 최신 기술인 Vue 2.0 부터 시작해서 인지 Popup 관련한 지식이나 Window 객체의 활용에 대한 지식이 부족한 것 같다 😢</p><p>window Popup은 꼭 Window.opener 인터페이스가 따라온다! 함께 생각하도록 하자!!</p><p>출처</p><p><a href=https://www.niceid.co.kr/prod_mobile.nc>NICE아이디 - 휴대폰본인확인</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://HyoseungJeon.github.io/tags/java/>Java</a></li><li><a href=https://HyoseungJeon.github.io/tags/javascript/>JavaScript</a></li><li><a href=https://HyoseungJeon.github.io/tags/authentication/>Authentication</a></li></ul><nav class=paginav><a class=next href=https://HyoseungJeon.github.io/posts/java/reflection/><span class=title>Next »</span><br><span>Reflection</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://HyoseungJeon.github.io/>HyoSeung IT blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>